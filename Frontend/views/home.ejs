<%- include('partials/header', { title: title }) %>
<%- include('partials/navbar') %>

<main class="main-content">
    <section class="hero-section hero-with-image">
        <div class="hero-text">
            <h1>Your Style, Uncovered in Bhilwara.</h1>
            <p>Discover the best local fashion stores and exclusive trends. Vastrakart is your ultimate guide to Bhilwara's vibrant fashion scene.</p>

            <% if (user && user.role === 'store_owner') { %>
                <a href="/stores/add" class="btn btn-primary hero-btn">List Your Store Today</a>
            <% } else if (!user) { %>
                <a href="/auth/login" class="btn btn-primary hero-btn">Sign In to Explore Fashion</a>
                <a href="/auth/register/store-owner" class="btn btn-secondary hero-btn">Become a Store Owner</a>
            <% } else { %>
                <a href="/stores" class="btn btn-primary hero-btn">Explore All Stores</a>
            <% } %>
        </div>
        <div class="hero-image">
            <img src="https://www.firstcopycloths.com/wp-content/uploads/2024/03/NIKE-JUST-DO-IT-PRINTED-MEN-TSHIRT-2.jpeg" alt="Vastrakart Bhilwara Fashion" class="flying-tshirt" />
        </div>
    </section>

    <section class="featured-categories-section">
        <div class="container">
            <h2>Shop by Category</h2>
            <div class="category-grid">
                <a href="/" class="category-card">
                    <img src="https://wforwoman.com/cdn/shop/files/end_of_season_sale.jpg?v=1749802725&width=3840" alt="Women's Wear">
                    <h3>Women's Wear</h3>
                </a>
                <a href="/" class="category-card">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTmpXDXU4LHSs7e5qUZcZ3QNJTVmq60irC0YLLUOSHCEIzJtwvrwgjbF_X2&s=10" alt="Men's Wear">
                    <h3>Men's Wear</h3>
                </a>
                <a href="/" class="category-card">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTdzB2RGbpg26jJiIzWn_6Ss-pWeJxuPJDbzqjfh2_tnSy2gZrxUlg3hTA&s=10" alt="Accessories">
                    <h3>Accessories</h3>
                </a>
                <a href="/" class="category-card">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRTqIW97JFFxAKyPXWC9bz7qPqsNP1gB-ZoNqav7kbszZB9YXmTinZfJiFK&s=10" alt="Kids Wear">
                    <h3>Kids Wear</h3>
                </a>
            </div>
        </div>
    </section>

    <section class="image-carousel-section">
        <div class="container">
            <h2>New Arrivals <span class="subtitle">Fresh styles daily</span></h2>
            <div class="carousel-track-wrapper">
                <div class="carousel-track" id="newArrivalsCarousel">
                    <div class="carousel-item">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRoXfufMZ0HmmfINHmr9-eAACPqlggnHtcT6JdgM-RBQwOJEcujZRHC5TRa&s=10" alt="New Dress 1" />
                        <div class="carousel-item-overlay">
                            <h3>Elegant Silk Saree</h3>
                            <p>&#8377; 2500</p>
                            <a href="#" class="btn btn-carousel">View Item</a>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSwrdDRU9UpHC6H-KOdvCGQh5cmQLk-dfg6PNCJbOfJfzGe4imT_q2eOI2F&s=10" alt="New Dress 2" />
                        <div class="carousel-item-overlay">
                            <h3>Modern Kurti Set</h3>
                            <p>&#8377; 1800</p>
                            <a href="#" class="btn btn-carousel">View Item</a>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTt1RHlqaEdhm1bZd9XGE6TDvgv7ksOq8Hby_yvcCHQaR3GwqWjznnXP2Q&s=10" alt="New Dress 3" />
                        <div class="carousel-item-overlay">
                            <h3>Men's Designer Shirt</h3>
                            <p>&#8377; 1200</p>
                            <a href="#" class="btn btn-carousel">View Item</a>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5er_jnBvt4B9nKWf94zcH8u4gZ5MGvD7N8Nk1QkZVxac4YdH0f2u4KfWB&s=10" alt="New Dress 4" />
                        <div class="carousel-item-overlay">
                            <h3>Casual Denim Jacket</h3>
                            <p>&#8377; 3200</p>
                            <a href="#" class="btn btn-carousel">View Item</a>
                        </div>
                    </div>
                     <div class="carousel-item">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQjZmxxvt3kc-VU-e9Rz_U4Zu0P1Lv_iWSpiFGuRPAua6mfYx7JYncanjE&s=10" alt="New Dress 5" />
                        <div class="carousel-item-overlay">
                            <h3>Kid's Party Wear</h3>
                            <p>&#8377; 900</p>
                            <a href="#" class="btn btn-carousel">View Item</a>
                        </div>
                    </div>
                    </div>
            </div>
            <a href="/dresses" class="btn btn-secondary view-all-btn">View All New Arrivals</a>
        </div>
    </section>

    <section class="call-to-action-section">
        <div class="container">
            <h2>Discover Bhilwara's Hidden Gems</h2>
            <p>Vastrakart connects you with unique local boutiques and fashion trends that define our city's style.</p>
            <a href="/stores" class="btn btn-primary">Browse All Stores</a>
            <% if (!user) { %>
                <a href="/auth/register" class="btn btn-secondary">Join Vastrakart </a>
            <% } %>
        </div>
    </section>

    <section class="value-proposition-section">
        <div class="container">
            <h2>Why Vastrakart?</h2>
            <div class="value-grid">
                <div class="value-item">
                    <i class="fas fa-tags icon-lg"></i>
                    <h3>Local & Unique Styles</h3>
                    <p>Find exclusive designs and support local businesses in Bhilwara.</p>
                </div>
                <div class="value-item">
                    <i class="fas fa-handshake icon-lg"></i>
                    <h3>Direct from Store Owners</h3>
                    <p>Connect directly with the artisans and retailers.</p>
                </div>
                <div class="value-item">
                    <i class="fas fa-shield-alt icon-lg"></i>
                    <h3>Trusted Community</h3>
                    <p>A curated marketplace ensuring quality and authenticity.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="shop-search-section">
        <div class="container">
            <h2>Find Your Perfect Store</h2>
            <div class="search-container">
                <i class="fas fa-search"></i>
                <input type="text" id="SearchInput" placeholder="Search stores by name, location, or description...">
                <button id="searchButton" class="btn btn-primary search-btn">Search</button>
            </div>
        </div>
    </section>

    <section class="stores-list">
        <div class="container">
            <h2>All Stores</h2>
            <p id="no-stores-initial-message" class="no-shops-message" style="<%= (stores && stores.length > 0) ? 'display: none;' : '' %>">No stores available yet. Be the first to add one!</p>

            <div class="store-grid">
                <% if (stores && stores.length > 0) { %>
                    <% stores.forEach(function(store) { %>
                        <div class="store-card">
                            <img src="<%= store.logo %>" alt="<%= store.name %> Logo" class="store-logo" onerror="this.onerror=null;this.src='/photos/default-shop-logo.png';">
                            <div class="store-card-content">
                                <h3><%= store.name %></h3>
                                <p class="shop-description"><%= store.description %></p>
                                <div class="shop-location">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span><%= store.location %></span>
                                </div>
                                <a href="/stores/<%= store._id %>" class="btn btn-secondary">View Store</a>
                            </div>
                        </div>
                    <% }); %>
                <% } %>
            </div>
            <% if (stores && stores.length > 0) { %>
                <div class="text-center mt-4">
                    <a href="/" class="btn btn-tertiary">View All Available Stores</a>
                </div>
            <% } %>
        </div>
    </section>

    <section class="testimonials-section">
        <div class="container">
            <h2>What Our Community Says</h2>
            <div class="testimonial-grid">
                <div class="testimonial-card">
                    <p>"Vastrakart made it so easy to find unique local boutiques. My new favorite dresses are from Bhilwara!"</p>
                    <div class="testimonial-author">- Priya Sharma, Fashion Enthusiast</div>
                </div>
                <div class="testimonial-card">
                    <p>"Listing my store on Vastrakart dramatically increased my online visibility. Highly recommend for local businesses."</p>
                    <div class="testimonial-author">- Rajesh Kumar, Store Owner</div>
                </div>
                <div class="testimonial-card">
                    <p>"A fantastic platform to discover authentic fashion and support the Bhilwara community. Love it!"</p>
                    <div class="testimonial-author">- Anjali Singh, Local Shopper</div>
                </div>
            </div>
        </div>
    </section>

    <section class="newsletter-section">
        <div class="container">
            <h2>Stay Updated with Bhilwara's Fashion</h2>
            <p>Join our newsletter for exclusive deals, new arrivals, and local fashion events!</p>
            <form action="/" method="POST" class="newsletter-form">
                <input type="email" name="email" placeholder="Enter your email address" required>
                <button type="submit" class="btn btn-primary">Subscribe</button>
            </form>
        </div>
    </section>

</main>

<%- include('partials/footer') %>